<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeddah Crane - Quality Crane Parts Supplier</title>
    <link rel="icon" type="image/png" href="logo/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .slideshow-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out; z-index: 1; }
        .slide.active { opacity: 1; z-index: 2; }
        #mobile-menu { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out; }
        #mobile-menu.mobile-menu-open { max-height: 500px; opacity: 1; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <header class="bg-slate-800 shadow-lg sticky top-0 z-50 py-2">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-auto lg:h-16 flex-wrap lg:flex-nowrap">
                <div class="flex flex-col items-start py-1">
                    <a href="index.html" class="flex items-center space-x-2 text-xl sm:text-2xl font-bold text-yellow-400">
                        <img src="logo/favicon.png" alt="Jeddah Crane Logo" class="w-12 h-12 sm:w-15 sm:h-15">
                        <span>Jeddah Crane</span>
                    </a>
                    <div class="mt-1 header-contact-details flex flex-col sm:flex-row sm:space-x-3 items-start sm:items-center">
                        <a href="tel:+966583993674" class="text-xs text-gray-300 hover:text-yellow-400 transition-colors flex items-center"> 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3 mr-1 flex-shrink-0"> 
                                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
                            </svg>
                            +966 58 399 3674
                        </a>
                        <span class="text-gray-400 text-xs hidden sm:inline">|</span>
                        <a href="mailto:syed@jeddahcrane.com" class="text-xs text-gray-300 hover:text-yellow-400 transition-colors flex items-center"> 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3 mr-1 flex-shrink-0"> 
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                            </svg>
                            syed@jeddahcrane.com
                        </a>
                    </div>
                </div>

                <div class="hidden lg:flex items-center ml-auto">
                    <div class="flex items-baseline space-x-4">
                        <a href="index.html" class="px-3 py-2 rounded-md text-sm font-medium bg-gray-900 text-white transition-colors" aria-current="page">Home</a>
                        <a href="about.html" class="px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">About Us</a>
                        <a href="parts.html" class="px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Part Categories</a>
                        <a href="#safety" class="px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Quality</a>
                        <a href="contact.html" class="px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Contact</a>
                    </div>
                </div>

                <div class="lg:hidden flex items-center">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg id="icon-open" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg id="icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <div class="lg:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium bg-gray-900 text-white transition-colors" aria-current="page">Home</a>
                <a href="about.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">About Us</a>
                <a href="parts.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Part Categories</a>
                <a href="#featured-parts" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Featured Parts</a>
                <a href="#safety" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Quality</a>
                <a href="contact.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition-colors">Contact</a>
            </div>
            <div class="pt-4 pb-3 border-t border-gray-700">
                <div class="flex items-center px-5">
                     <a href="contact.html" class="w-full text-center inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-yellow-400 transition-colors">
                        Contact for Quote
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="text-white relative h-[60vh] sm:h-[70vh] md:h-[80vh] lg:h-screen">
            <div class="slideshow-container">
                <img src="cranes/pic_1.png" alt="Warehouse shelves stocked with crane parts" class="slide active">
                <img src="cranes/pic_2.png" alt="Close-up of a hydraulic crane component" class="slide">
                <img src="cranes/pic_3.png" alt="An overhead crane lifting industrial equipment" class="slide">
                <img src="cranes/pic_4.png" alt="Shipping area with boxes of crane parts" class="slide">
            </div>
            <div class="absolute inset-0 bg-black opacity-60 z-10"></div>
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col justify-center items-center text-center relative z-20">
                <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold tracking-tight leading-tight [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]">
                    Your Premier Source for <span class="text-yellow-400">Quality Crane Parts</span>
                </h1>
                <p class="mt-4 sm:mt-6 max-w-md sm:max-w-2xl mx-auto text-base sm:text-lg md:text-xl text-gray-100 [text-shadow:0_1px_3px_rgba(0,0,0,0.5)]">
                    Extensive inventory, fast shipping, and expert support for all major crane makes and models. Keep your equipment running reliably.
                </p>
                <div class="mt-8 sm:mt-10 flex flex-col sm:flex-row sm:justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <a href="parts.html" class="w-full sm:w-auto inline-block bg-yellow-500 text-slate-900 font-semibold hover:bg-yellow-400 focus:ring-4 focus:ring-yellow-300 focus:ring-opacity-50 rounded-lg px-8 py-3 text-base sm:text-lg shadow-lg transition-transform transform hover:scale-105">
                        Browse Part Categories
                    </a>
                    <a href="contact.html" class="w-full sm:w-auto inline-block bg-transparent border-2 border-yellow-400 text-yellow-400 font-semibold hover:bg-yellow-400 hover:text-slate-900 focus:ring-4 focus:ring-yellow-300 focus:ring-opacity-50 rounded-lg px-8 py-3 text-base sm:text-lg shadow-lg transition-colors">
                        Request a Quote
                    </a>
                </div>
            </div>
        </section>

        <section class="py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                 <h2 class="text-2xl sm:text-3xl font-bold text-slate-900 md:text-4xl">Your Trusted Partner in Crane Parts</h2>
                <p class="mt-4 text-base sm:text-lg text-slate-600 max-w-3xl mx-auto">
                     With over 10 years of industry expertise, Jeddah Crane specializes in sourcing and supplying reliable components to minimize downtime and maximize the performance of your lifting equipment. We pride ourselves on our extensive inventory and commitment to customer satisfaction.
                </p>
                 <div class="mt-8 sm:mt-12">
                    <a href="about.html" class="text-yellow-600 hover:text-yellow-500 font-semibold text-sm sm:text-base">Learn More About Us &rarr;</a>
                </div>
            </div>
        </section>

        <section class="py-12 sm:py-16 lg:py-24 bg-slate-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-8 sm:mb-12">
                    <h2 class="text-2xl sm:text-3xl font-bold text-slate-900 md:text-4xl">Wide Range of Crane Parts</h2>
                    <p class="mt-3 sm:mt-4 text-base sm:text-lg text-slate-600 max-w-2xl mx-auto">
                        From electrical components to switches, we have everything for your needs.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
                     <a href="wire-ropes.html">
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Wire Ropes</h3>
                         </div>
                     </a>
                     <a href="current-collector.html">
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Current Collector</h3>
                         </div>
                     </a>
                     <a href="brakes.html">
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Brakes</h3>
                         </div>
                     </a>
                     <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Busbars</h3>
                     </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Festoon Systems</h3>
                     </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-lg sm:text-xl font-semibold text-slate-900 mb-2">Circuit Breakers</h3>
                     </div>
                </div>
                 <div class="mt-8 sm:mt-12 text-center">
                    <a href="parts.html" class="text-yellow-600 hover:text-yellow-500 font-semibold text-sm sm:text-base">Explore All Part Categories &rarr;</a>
                </div>
            </div>
        </section>


        <section id="safety" class="py-12 sm:py-16 lg:py-24 bg-yellow-500 text-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-2xl sm:text-3xl font-bold md:text-4xl">Quality Parts You Can Trust</h2>
                <p class="mt-3 sm:mt-4 text-base sm:text-lg text-yellow-100 max-w-3xl mx-auto">
                    At Jeddah Crane, we understand that reliability starts with quality components. We are committed to supplying parts that meet or exceed industry standards for safety and performance.
                </p>
                <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 text-yellow-50">
                    <div class="p-4 sm:p-6 bg-yellow-600 rounded-lg shadow-md">
                        <h3 class="text-lg sm:text-xl font-semibold mb-2">OEM & Aftermarket Options</h3>
                        <p class="text-sm">Sourcing genuine OEM parts and high-quality aftermarket alternatives.</p>
                    </div>
                    <div class="p-4 sm:p-6 bg-yellow-600 rounded-lg shadow-md">
                        <h3 class="text-lg sm:text-xl font-semibold mb-2">Rigorous Standards</h3>
                        <p class="text-sm">Supplying parts that adhere to strict manufacturing and safety specifications.</p>
                    </div>
                    <div class="p-4 sm:p-6 bg-yellow-600 rounded-lg shadow-md">
                        <h3 class="text-lg sm:text-xl font-semibold mb-2">Expert Support</h3>
                        <p class="text-sm">Our knowledgeable team helps ensure you get the right part for your crane.</p>
                    </div>
                </div>
                 <div class="mt-8 sm:mt-12">
                    <a href="contact.html" class="bg-white text-yellow-600 font-semibold hover:bg-gray-100 focus:ring-4 focus:ring-yellow-300 focus:ring-opacity-50 rounded-lg px-6 py-3 sm:px-8 text-base sm:text-lg shadow-lg transition-colors">
                        Our Quality Promise
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer-contact" class="bg-slate-900 text-slate-400">
        <section class="py-10 text-center bg-slate-800">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-2xl sm:text-3xl font-bold text-white">Contact Us</h3>
                <p class="text-slate-300 mt-3 text-base sm:text-lg max-w-2xl mx-auto">
                    We're here to help you find the right parts. Call or email us directly.
                </p>
            </div>
        </section>
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-12"> 
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                     <h3 class="text-lg sm:text-xl font-bold text-yellow-400 mb-3 sm:mb-4">Jeddah Crane</h3>
                     <p class="text-xs sm:text-sm mb-1 sm:mb-2">Your Trusted Crane Parts Supplier</p>
                    <p class="text-xs sm:text-sm mb-1 sm:mb-2">Arbaeen Street, Jeddah, Saudi Arabia</p>
                    <p class="text-xs sm:text-sm mb-1 sm:mb-2">
                        Phone: <a href="tel:+966583993674" class="hover:text-yellow-400">+966 58 399 3674</a>
                    </p>
                     <p class="text-xs sm:text-sm">
                        Email: <a href="mailto:syed@jeddahcrane.com" class="hover:text-yellow-400">syed@jeddahcrane.com</a>
                    </p>
                </div>
                <div>
                    <h4 class="text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4">Quick Links</h4>
                    <ul class="space-y-1 sm:space-y-2 text-xs sm:text-sm">
                        <li><a href="index.html" class="hover:text-yellow-400 transition-colors">Home</a></li>
                        <li><a href="about.html" class="hover:text-yellow-400 transition-colors">About Us</a></li>
                        <li><a href="parts.html" class="hover:text-yellow-400 transition-colors">Part Categories</a></li>
                        <li><a href="index.html#safety" class="hover:text-yellow-400 transition-colors">Quality Promise</a></li>
                        <li><a href="#" class="hover:text-yellow-400 transition-colors">Shipping Info</a></li>
                        <li><a href="#" class="hover:text-yellow-400 transition-colors">Returns Policy</a></li>
                        <li><a href="contact.html" class="hover:text-yellow-400 transition-colors">Contact Us</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4">Stay Connected</h4>
                    <p class="text-xs sm:text-sm mb-3 sm:mb-4">Get notified about new parts and special offers.</p>
                    <form class="flex">
                        <input type="email" placeholder="Enter your email" class="w-full px-2 py-2 sm:px-3 rounded-l-md bg-slate-800 border border-slate-700 placeholder-slate-500 text-xs sm:text-sm text-white focus:outline-none focus:ring-1 focus:ring-yellow-500 focus:border-yellow-500">
                        <button type="submit" class="px-3 py-2 sm:px-4 bg-yellow-500 text-slate-900 font-semibold rounded-r-md hover:bg-yellow-400 transition-colors text-xs sm:text-sm">Subscribe</button>
                    </form>
                    <div class="mt-4 sm:mt-6 flex space-x-3 sm:space-x-4">
                        <a href="#" class="text-slate-400 hover:text-yellow-400 transition-colors">
                            <span class="sr-only">Facebook</span>
                            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
                        </a>
                        <a href="#" class="text-slate-400 hover:text-yellow-400 transition-colors">
                            <span class="sr-only">LinkedIn</span>
                            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd" /></svg>
                        </a>
                        </div>
                </div>
            </div>
            <div class="mt-8 sm:mt-12 border-t border-slate-700 pt-8 sm:pt-10 text-center text-xs sm:text-sm">
                 <p>&copy; <span id="currentYear"></span> Jeddah Crane. All rights reserved.</p>
                 <p>Website by ShujaMukhtarLLC</p>
            </div>
        </div>
    </footer>

    <script>
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const iconOpen = document.getElementById('icon-open');
        const iconClose = document.getElementById('icon-close');
        const header = document.querySelector('header');

        let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollThreshold = 10; // Min scroll distance (px) to trigger actions
        
        // IMPORTANT: This flag controls the "open on scroll down" behavior from previous discussions.
        // It's recommended to keep this false for better UX unless you specifically want that unusual behavior.
        const enableOpenOnScrollDown = false; 
        const openOnScrollDownActivationPoint = window.innerHeight;

        let allowScrollToCloseMenu = true; // Flag to manage scroll-based closing after manual interaction

        // Function to open the mobile menu
        function openMobileMenu() {
            if (!mobileMenu.classList.contains('mobile-menu-open')) {
                mobileMenuButton.setAttribute('aria-expanded', 'true');
                mobileMenu.classList.add('mobile-menu-open');
                iconOpen.classList.add('hidden');
                iconClose.classList.remove('hidden');

                // When manually opening, temporarily prevent scroll from closing it immediately
                allowScrollToCloseMenu = false;
                setTimeout(() => {
                    allowScrollToCloseMenu = true;
                }, 550); // Duration should be slightly longer than your CSS transition (e.g., 0.5s is 500ms)
            }
        }

        // Function to close the mobile menu
        function closeMobileMenu() {
            if (mobileMenu.classList.contains('mobile-menu-open')) {
                mobileMenuButton.setAttribute('aria-expanded', 'false');
                mobileMenu.classList.remove('mobile-menu-open');
                iconOpen.classList.remove('hidden');
                iconClose.classList.add('hidden');
                // When menu is closed (manually or by scroll), allow scroll-to-close for the next time
                allowScrollToCloseMenu = true;
            }
        }

        // Toggle menu on button click
        mobileMenuButton.addEventListener('click', () => {
          const isMenuOpen = mobileMenu.classList.contains('mobile-menu-open');
          if (isMenuOpen) {
            closeMobileMenu();
          } else {
            openMobileMenu();
          }
        });

        // Close menu when a link inside it is clicked
        document.querySelectorAll('#mobile-menu a').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            const isSamePageAnchor = href.startsWith('#') && href.length > 1;

            if (mobileMenu.classList.contains('mobile-menu-open')) {
                if (isSamePageAnchor) {
                    e.preventDefault();
                    const targetId = href;
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const headerOffset = header.offsetHeight;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                        window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                        closeMobileMenu(); // This will also reset allowScrollToCloseMenu
                    }
                } else if (!href.startsWith('mailto:') && !href.startsWith('tel:')) {
                    // For other links (not mailto/tel), close after a tiny delay
                    setTimeout(closeMobileMenu, 100); // Also resets allowScrollToCloseMenu
                }
            }
          });
        });
      
        document.getElementById('currentYear').textContent = new Date().getFullYear();
      
        // Slideshow
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        const slideInterval = 5000;
      
        function nextSlide() {
          if (slides.length === 0) return;
          slides[currentSlide].classList.remove('active');
          currentSlide = (currentSlide + 1) % slides.length;
          slides[currentSlide].classList.add('active');
        }
      
        if (slides.length > 1) {
          setInterval(nextSlide, slideInterval);
        }
      
        // --- Scroll behavior for mobile menu ---
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            const isMenuOpen = mobileMenu.classList.contains('mobile-menu-open');
            const scrollDifference = currentScroll - lastScrollTop;

            // Only act if scrolled more than the threshold significantly
            // and not at the very top of the page for the threshold condition
            if (Math.abs(scrollDifference) < scrollThreshold && currentScroll !== 0) {
                // Still update lastScrollTop if it has changed slightly within the threshold
                if (currentScroll !== lastScrollTop) {
                    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
                }
                return;
            }

            // Scrolling Down
            if (currentScroll > lastScrollTop && currentScroll > 0) { // currentScroll > 0 to avoid issues at very top
                if (isMenuOpen && allowScrollToCloseMenu) { // Check the flag here
                    closeMobileMenu();
                } else if (enableOpenOnScrollDown && !isMenuOpen && currentScroll > openOnScrollDownActivationPoint && allowScrollToCloseMenu) {
                    // This is the "open on scroll down" part, currently disabled by enableOpenOnScrollDown = false
                    // If you enable it, ensure allowScrollToCloseMenu logic is appropriate.
                    // openMobileMenu(); 
                }
            }
            // Scrolling Up (Optional: Add behavior for scrolling up if needed)
            // else if (currentScroll < lastScrollTop) {
            // }
      
            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        }, { passive: true });
    </script>
      
</body>
</html>